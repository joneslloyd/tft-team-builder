<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title>Team Fight Tactics (TFT) team builder by Mobalytics</title>
    <meta name="description"
          content="Team Fight Tactics (TFT) team builder is distributed as widget which you can easily install on your website.">
    <meta property="og:image"
          content="https://mobalyticshq.github.io/tft-team-builder/tft-mobalytics-team-builder.jpg"/>
    <link rel="stylesheet" href="./styles.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400&display=swap" rel="stylesheet"/>
</head>
<body>
<div class="content">
    <h1>Team Fight Tactics (TFT) team builder by Mobalytics</h1>
    <div class="page-description">Team Fight Tactics (TFT) team builder is distributed as widget which you can easily
        install on your website.
    </div>
    <div class="page-controls">
        <h3>Builder info</h3>
        <div class="page-controls-info">
            <div id="builder-loaded">Builder is loaded: false</div>
            <div id="builder-size"></div>
            <div id="builder-state">Builder state: AwQwzApgZjsKx0rWA2B1lSA%3D~EwRiA%3D%3D%3D</div>
            <div id="builder-carry-champions">Carry champions: 14</div>
            <div id="builder-moba-url">Moba url: <a
                    href="https://app.mobalytics.gg/en_us/tft/set2/comp-builder?map=AwQwzApgZjtgnJWsBsBWN1lSA===~IwFiA==="
                    target="_blank">https://app.mobalytics.gg/en_us/tft/set2/comp-builder?map=AwQwzApgZjtgnJWsBsBWN1lSA===~IwFiA===</a>
            </div>
        </div>
    </div>
    <div class="page-controls-bar">
        <div>
            <h3>Languages</h3>
            <div class="page-controls-bar-buttons">
                <button onclick="onChangeLanguage('ru_ru')">ru_RU</button>
                <button onclick="onChangeLanguage('en_us')">en_US</button>
                <button onclick="onChangeLanguage('ja_jp')">ja_JP</button>
                <button onclick="onChangeLanguage('de_de')">de_DE</button>
            </div>
        </div>
        <div>
            <h3>Change state</h3>
            <div class="page-controls-bar-buttons">
                <button onclick="onChangeState('set2', 'CwVgjAnAZjvBIDGs4BMwCMUxCY2cIA2AZgKLBK2yNRICYCB2MXAoA===')">
                    Sum Sins (TFT Set 2)
                </button>
                <button onclick="onChangeState('set2', 'AwQwzApgZjsKx0rWA2B1lSA%3D~EwRiA%3D%3D%3D')">Mock state 2
                </button>
                <button onclick="onChangeState('set2', 'AwQwzApgZjsKx0rWA2B1lSA%3D~EwRiA%3D%3D%3D')">Mock state 3
                </button>
                <button onclick="onChangeState('set1', 'IwVgzATAZjsQJgBgJy1meo0wCzldiCMAWkA%3D')">
                    Mock state 4 (TFT Set 1)
                </button>
            </div>
        </div>
    </div>

    <!-- div container -->
    <div id="comp-builder-container"></div>
</div>

<!--integration script section start -->
<script>!function (a, b, d, e, c, f, g) {
    a[e] = a[e] || {}, a[e][c] = a[e][c] || {}, a[e][c][f] = a[e][c][f] || function () {
        a[e][c][f].args = arguments
    }, (g = b.createElement(d)).src = "https://cdn.jsdelivr.net/gh/mobalyticshq/tft-team-builder@1.0.3/dist/index.min.js", g.async = 1, (d = b.getElementsByTagName(d)[0]).parentNode.insertBefore(g, d)
}(window, document, "script", "mobalytics", "tft", "compBuilder");</script>

<!--configuration script section -->
<script>
    mobalytics.tft.compBuilder({
        container: "#comp-builder-container",
        tftSet: "set2",
        state: "AwQwzApgZjsKx0rWA2B1lSA%3D~EwRiA%3D%3D%3D",
        language: "en_us",
        domain: "https://app.stg.mobalytics.gg",
    });

    document.addEventListener('mobalytics.tft.compsBuilder.loaded', function () {
        document.querySelector('#builder-loaded').innerHTML = `Builder is loaded: true`;
    });

    document.addEventListener('mobalytics.tft.compsBuilder.resize', function (event) {
        console.debug('mobalytics.tft.compsBuilder.resize', event);
        const width = event.data.width;
        const height = event.data.height;
        document.querySelector('#builder-size').innerHTML = `Current builder size: ${width}x${height}`;
    });

    document.addEventListener('mobalytics.tft.compsBuilder.stateChanged', function (event) {
        console.debug('mobalytics.tft.compsBuilder.stateChanged', event);
        const language = event.data.language;
        const tftSet = event.data.tftSet;
        const state = event.data.state;
        const carryChampions = event.data.carryChampions;
        const mobaUrl = `https://app.mobalytics.gg/${language}/tft/${tftSet}/comp-builder?map=${state}`;
        document.querySelector('#builder-state').innerHTML = `Builder state: ${state}`;
        document.querySelector('#builder-carry-champions').innerHTML = `Carry champions: ${carryChampions.join(', ')}`;
        document.querySelector(
            '#builder-moba-url'
        ).innerHTML = `Moba url: <a href="${mobaUrl}" target="_blank">${mobaUrl}</a>`;
    });

    onChangeLanguage = language => {
        if (window.mobalytics.tft.compBuilder.isLoaded) {
            window.mobalytics.tft.compBuilder.setLanguage(language);
        }
    };

    onChangeState = (tftSet, state) => {
        if (window.mobalytics.tft.compBuilder.isLoaded) {
            window.mobalytics.tft.compBuilder.setState(tftSet, state);
        }
    };
</script>
</body>
</html>